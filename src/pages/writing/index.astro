---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

const posts = await getCollection('writing');
const sortedPosts = posts.sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf());

function formatDate(date: Date) {
  return date.toLocaleDateString('en-US', {
    year: 'numeric',
    month: 'long',
    day: 'numeric'
  });
}
---

<BaseLayout title="Writing" description="Thoughts on context engineering, agentic systems, and the changing nature of product work. Building in public.">
  <section class="py-20 md:py-32">
    <div class="container">
      <div class="max-w-3xl">
        <h1 class="mb-8">Writing</h1>
        <div class="prose mb-16">
          <p class="lead">
            I write about context engineering, agentic systems, and the changing nature of product work. Most of what I publish starts as a LinkedIn post: testing ideas in public, seeing what resonates, learning from the responses.
          </p>

          <p>
            The pieces that have legs get expanded here. More depth. More nuance. Room to explore implications that don't fit in a feed scroll.
          </p>

          <p>
            My focus right now is on what I'm calling the shift from deterministic to probabilistic work: how AI changes not just what we can do, but how we think about doing it. I'm interested in the practical application of these ideas. What's actually working. What's harder than the demos suggest. The gap between AI capability and AI value.
          </p>

          <p>
            If you want the real-time version, follow me on <a href="https://linkedin.com/in/brandonkeao" target="_blank" rel="noopener noreferrer">LinkedIn</a>. If you want the longer exploration, you're in the right place.
          </p>
        </div>

        <div class="space-y-10">
          {sortedPosts.map(post => (
            <article class="border-b border-[var(--border)] pb-10 last:border-0">
              <time class="eyebrow" datetime={post.data.date.toISOString()}>
                {formatDate(post.data.date)}
              </time>
              <h2 class="text-2xl mt-3 mb-3">
                <a href={`/writing/${post.id}`} class="text-[var(--text-primary)] hover:text-[var(--accent)] transition-colors">
                  {post.data.title}
                </a>
              </h2>
              <p class="text-[var(--text-secondary)] leading-relaxed">{post.data.description}</p>
            </article>
          ))}
        </div>
      </div>
    </div>
  </section>
</BaseLayout>
