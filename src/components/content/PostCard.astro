---
interface Props {
  title: string;
  description: string;
  date: Date;
  href: string;
  tags?: string[];
  featured?: boolean;
}

const { title, description, date, href, tags = [], featured = false } = Astro.props;

const formattedDate = date.toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'short',
  day: 'numeric'
});
---

<article class={`group ${featured ? 'card' : ''}`}>
  <a href={href} class="block">
    <div class="flex flex-col gap-2">
      <div class="flex items-center gap-3 text-sm text-[var(--text-tertiary)]">
        <time datetime={date.toISOString()}>{formattedDate}</time>
        {featured && <span class="tag">Featured</span>}
      </div>

      <h3 class={`font-semibold group-hover:text-[var(--accent)] transition-colors ${featured ? 'text-xl' : 'text-lg'}`}>
        {title}
      </h3>

      <p class="text-[var(--text-secondary)] line-clamp-2">
        {description}
      </p>

      {tags.length > 0 && (
        <div class="flex flex-wrap gap-2 mt-2">
          {tags.map((tag) => (
            <span class="text-xs text-[var(--text-tertiary)]">#{tag}</span>
          ))}
        </div>
      )}
    </div>
  </a>
</article>

<style>
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>
